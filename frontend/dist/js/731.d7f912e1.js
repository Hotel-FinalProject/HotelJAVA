"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[731],{4731:function(e,t,o){o.r(t),o.d(t,{default:function(){return U}});var a=o(6768),n=o(4232),s=o(5130);const r={class:"details-container"},l={class:"room-image-container"},i=["src"],c={key:1,class:"no-image-text"},d={class:"hotel-name"},m=["innerHTML"],u={class:"hotel-info2"},k={class:"hotel-tel"},h={class:"hotel-addr"},g={class:"avg-person"},p={class:"avg-person-text"},L={class:"details-reservation"},v={class:"details-middle"},b={class:"reservation-cal"},C={key:0,class:"calendar-modal"},D={class:"modal-content"},S={class:"reservation-person"},w=["value"],_={class:"details-bottom"},y={class:"reservation-info"},f={class:"check-info"},$={class:"price"},I={class:"reservation-bottom"},P={class:"room-count"},M=["disabled"],R={key:0,class:"modal"},W={class:"modal-content"},F={class:"amenities-container"},N={class:"amenities-grid"};function E(e,t,o,E,O,V){const X=(0,a.g2)("VDatePicker"),K=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",l,[O.room.primaryImageUrl?((0,a.uX)(),(0,a.CE)("img",{key:0,src:O.room.primaryImageUrl,class:"img-container",alt:"Room Image"},null,8,i)):((0,a.uX)(),(0,a.CE)("p",c,"업체측에서 제공된 이미지가 없습니다"))]),(0,a.Lk)("div",d,(0,n.v_)(O.room.name),1),(0,a.Lk)("p",{class:"room-description",innerHTML:V.formattedDescription},null,8,m),(0,a.Lk)("div",u,[(0,a.Lk)("p",k," 전화번호: "+(0,n.v_)(O.room.hotelPhone?O.room.hotelPhone.replace("<br />",", "):"정보없음"),1),(0,a.Lk)("p",h,"주소: "+(0,n.v_)(O.room.hotelAddress||"정보없음"),1),(0,a.Lk)("div",g,[t[7]||(t[7]=(0,a.Lk)("img",{class:"person-icon",src:"https://yaimg.yanolja.com/stay/static/images/v3/icon_my.png"},null,-1)),(0,a.Lk)("span",p,"기준인원 "+(0,n.v_)(O.room.occupancy)+"인",1)])]),(0,a.Lk)("div",L,[(0,a.Lk)("div",v,[(0,a.Lk)("div",b,[O.showCalendar?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("div",D,[(0,a.bF)(X,{modelValue:O.range,"onUpdate:modelValue":t[0]||(t[0]=e=>O.range=e),modelModifiers:{range:!0},"min-date":O.minDate},null,8,["modelValue","min-date"]),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>V.onDateSelect&&V.onDateSelect(...e))},"확인")])])):(0,a.Q3)("",!0),(0,a.Lk)("div",{onClick:t[2]||(t[2]=e=>O.showCalendar=!O.showCalendar)},[(0,a.Lk)("div",null,(0,n.v_)(O.range.start?`${O.range.start.getFullYear()}.${(O.range.start.getMonth()+1).toString().padStart(2,"0")}.${O.range.start.getDate().toString().padStart(2,"0")} (${O.range.start.toLocaleDateString("ko-KR",{weekday:"short"})})`:`${(new Date).getFullYear()}.${((new Date).getMonth()+1).toString().padStart(2,"0")}.${(new Date).getDate().toString().padStart(2,"0")} (${(new Date).toLocaleDateString("ko-KR",{weekday:"short"})})`)+" - "+(0,n.v_)(O.range.end?`${O.range.end.getFullYear()}.${(O.range.end.getMonth()+1).toString().padStart(2,"0")}.${O.range.end.getDate().toString().padStart(2,"0")} (${O.range.end.toLocaleDateString("ko-KR",{weekday:"short"})})`:`${(new Date).getFullYear()}.${((new Date).getMonth()+1).toString().padStart(2,"0")}.${(new Date).getDate().toString().padStart(2,"0")} (${(new Date).toLocaleDateString("ko-KR",{weekday:"short"})})`),1)])]),(0,a.Lk)("div",S,[t[8]||(t[8]=(0,a.Lk)("label",{for:"personSelect"},"예약 인원:",-1)),(0,a.bo)((0,a.Lk)("select",{id:"personSelect","onUpdate:modelValue":t[3]||(t[3]=e=>O.selectedPersonCount=e),class:"pl"},[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(20,(e=>(0,a.Lk)("option",{key:e,value:e},(0,n.v_)(e)+"명",9,w))),64))],512),[[s.u1,O.selectedPersonCount]])])]),(0,a.Lk)("div",_,[(0,a.Lk)("div",y,[t[9]||(t[9]=(0,a.Lk)("h4",{class:"reservation-text"},"숙박",-1)),(0,a.Lk)("p",f," 체크인: "+(0,n.v_)(O.room.hotelCheckIn||"정보없음")+" ~ 체크아웃: "+(0,n.v_)(O.room.hotelCheckOut||"정보없음"),1),(0,a.Lk)("h2",$,(0,n.v_)(Number(O.room.price).toLocaleString()?`${Number(O.room.price).toLocaleString()}원`:"가격 정보 없음"),1),(0,a.Lk)("div",I,[(0,a.Lk)("div",P," 남은 객실 "+(0,n.v_)(O.room.availableRooms||0)+"개 ",1),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>V.move&&V.move(...e)),disabled:0===O.room.availableRooms,class:"reservation_btn"},(0,n.v_)(0===O.room.availableRooms?"객실 마감":"예약하기"),9,M)])])])]),O.showModal?((0,a.uX)(),(0,a.CE)("div",R,[(0,a.Lk)("div",W,[(0,a.Lk)("span",{class:"close",onClick:t[5]||(t[5]=e=>O.showModal=!1)},"×"),t[10]||(t[10]=(0,a.Lk)("h2",null,"로그인 필요",-1)),t[11]||(t[11]=(0,a.Lk)("p",null,"예약을 진행하시려면 로그인이 필요합니다.",-1)),(0,a.bF)(K,{to:"/login"},{default:(0,a.k6)((()=>[(0,a.Lk)("button",{class:"modal-btn",onClick:t[6]||(t[6]=(...t)=>e.onLoginSuccess&&e.onLoginSuccess(...t))},"로그인하러 가기")])),_:1})])])):(0,a.Q3)("",!0),(0,a.Lk)("div",F,[t[23]||(t[23]=(0,a.Lk)("h2",{class:"section-title"},"편의시설",-1)),(0,a.Lk)("div",N,[(0,a.Lk)("p",null,[t[12]||(t[12]=(0,a.eW)("목욕시설: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.bathFacility?"✅":"❌"),1)]),(0,a.Lk)("p",null,[t[13]||(t[13]=(0,a.eW)("욕조: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.bath?"✅":"❌"),1)]),(0,a.Lk)("p",null,[t[14]||(t[14]=(0,a.eW)("에어컨: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.airCondition?"✅":"❌"),1)]),(0,a.Lk)("p",null,[t[15]||(t[15]=(0,a.eW)("TV: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.tv?"✅":"❌"),1)]),(0,a.Lk)("p",null,[t[16]||(t[16]=(0,a.eW)("케이블: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.cable?"✅":"❌"),1)]),(0,a.Lk)("p",null,[t[17]||(t[17]=(0,a.eW)("인터넷: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.internet?"✅":"❌"),1)]),(0,a.Lk)("p",null,[t[18]||(t[18]=(0,a.eW)("냉장고: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.refrigerator?"✅":"❌"),1)]),(0,a.Lk)("p",null,[t[19]||(t[19]=(0,a.eW)("세면도구: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.toiletries?"✅":"❌"),1)]),(0,a.Lk)("p",null,[t[20]||(t[20]=(0,a.eW)("소파: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.sofa?"✅":"❌"),1)]),(0,a.Lk)("p",null,[t[21]||(t[21]=(0,a.eW)("테이블: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.tableYn?"✅":"❌"),1)]),(0,a.Lk)("p",null,[t[22]||(t[22]=(0,a.eW)("드라이기: ")),(0,a.Lk)("span",null,(0,n.v_)(O.room.hairdryer?"✅":"❌"),1)])])])])}o(4114);var O=o(4373),V=o(6698),X={name:"HotelRoom",data(){return{room:{},hotel:{},reviews:[],selectedPersonCount:1,isLoggedIn:!1,showModal:!1,range:{start:null,end:null},showCalendar:!1,dataObj:history.state||{},minDate:new Date}},created(){this.fetchRoomDetails();const e=(0,V.n)();e.checkLoginStatus(),this.isLoggedIn=e.LoggedIn},methods:{async fetchRoomDetails(){const e=this.$route.params.roomId;try{const t=await O.A.get(`/api/rooms/${e}`);this.room=t.data,console.log("객실 데이터:",this.room),this.selectedPersonCount=this.room.occupancy||1}catch(t){console.error("객실 정보를 가져오는 중 오류 발생:",t)}},move(){const{hotelName:e,checkIn:t,checkOut:o,roomName:a,roomPrice:n}=this.dataObj,s=this.$route.params.roomId,r=this.range.start?this.range.start:new Date,l=this.range.end?this.range.end:new Date,i=this.selectedPersonCount,c=this.selectedPersonCount>this.room.occupancy?1e4*(this.selectedPersonCount-this.room.occupancy):0,d=864e5,m=this.range.start&&this.range.end?Math.ceil((this.range.end-this.range.start)/d):0,u=m>1?2e4*(m-1):0;this.isLoggedIn?e&&t&&o&&a&&n?this.$router.push({name:"paymentPage",state:{hotelName:e,checkIn:t,checkOut:o,roomName:a,roomPrice:n,roomId:s,userCheckIn:r,userCheckOut:l,guestNum:i,addPerson:c,addDate:u}}):console.log("예약에 필요한 정보가 부족합니다."):this.showModal=!0},onDateSelect(){this.range.start&&this.range.end&&(this.showCalendar=!1)}},computed:{formattedDescription(){return this.room.description?this.room.description.replace(/<br\s*\/?>/gi,"<br>"):"객실 설명이 없습니다."}}},K=o(1241);const Y=(0,K.A)(X,[["render",E],["__scopeId","data-v-3aca1bf1"]]);var U=Y}}]);
//# sourceMappingURL=731.d7f912e1.js.map