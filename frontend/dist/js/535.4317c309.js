"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[535],{6535:function(e,a,t){t.r(a),t.d(a,{default:function(){return U}});var o=t(6768),s=t(4232),n=t(5130);const r={class:"details-container"},l={class:"room-image-container"},i=["src"],c={key:1,class:"no-image-text"},d={class:"hotel-name"},v=["innerHTML"],m={class:"hotel-info2"},u={class:"hotel-tel"},k={class:"hotel-addr"},g={class:"avg-person"},h={class:"avg-person-text"},p={class:"details-reservation"},L={class:"details-middle"},b={class:"reservation-cal"},w={key:0,class:"calendar-modal"},S={class:"modal-content"},D={class:"reservation-person"},C=["value"],_={class:"details-bottom"},y={class:"reservation-info"},$={class:"check-info"},f={class:"price"},I={class:"reservation-bottom"},M={class:"room-count"},P=["disabled"],R={key:0,class:"modal"},W={class:"modal-content"},F={class:"amenities-container"},N={class:"amenities-grid"};function E(e,a,t,E,O,V){const X=(0,o.g2)("VDatePicker"),K=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",l,[O.room.primaryImageUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,src:O.room.primaryImageUrl,class:"img-container",alt:"Room Image"},null,8,i)):((0,o.uX)(),(0,o.CE)("p",c,"업체측에서 제공된 이미지가 없습니다"))]),(0,o.Lk)("div",d,(0,s.v_)(O.room.name),1),(0,o.Lk)("p",{class:"room-description",innerHTML:V.formattedDescription},null,8,v),(0,o.Lk)("div",m,[(0,o.Lk)("p",u," 전화번호: "+(0,s.v_)(O.room.hotelPhone?O.room.hotelPhone.replace("<br />",", "):"정보없음"),1),(0,o.Lk)("p",k,"주소: "+(0,s.v_)(O.room.hotelAddress||"정보없음"),1),(0,o.Lk)("div",g,[a[7]||(a[7]=(0,o.Lk)("img",{class:"person-icon",src:"https://yaimg.yanolja.com/stay/static/images/v3/icon_my.png"},null,-1)),(0,o.Lk)("span",h,"기준인원 "+(0,s.v_)(O.room.occupancy)+"인",1)])]),(0,o.Lk)("div",p,[(0,o.Lk)("div",L,[(0,o.Lk)("div",b,[O.showCalendar?((0,o.uX)(),(0,o.CE)("div",w,[(0,o.Lk)("div",S,[(0,o.bF)(X,{modelValue:O.range,"onUpdate:modelValue":a[0]||(a[0]=e=>O.range=e),modelModifiers:{range:!0},"min-date":O.minDate},null,8,["modelValue","min-date"]),(0,o.Lk)("button",{onClick:a[1]||(a[1]=(...e)=>V.onDateSelect&&V.onDateSelect(...e))},"확인")])])):(0,o.Q3)("",!0),(0,o.Lk)("div",{onClick:a[2]||(a[2]=e=>O.showCalendar=!O.showCalendar)},[(0,o.Lk)("div",null,(0,s.v_)(O.range.start?`${O.range.start.getFullYear()}.${(O.range.start.getMonth()+1).toString().padStart(2,"0")}.${O.range.start.getDate().toString().padStart(2,"0")} (${O.range.start.toLocaleDateString("ko-KR",{weekday:"short"})})`:`${(new Date).getFullYear()}.${((new Date).getMonth()+1).toString().padStart(2,"0")}.${(new Date).getDate().toString().padStart(2,"0")} (${(new Date).toLocaleDateString("ko-KR",{weekday:"short"})})`)+" - "+(0,s.v_)(O.range.end?`${O.range.end.getFullYear()}.${(O.range.end.getMonth()+1).toString().padStart(2,"0")}.${O.range.end.getDate().toString().padStart(2,"0")} (${O.range.end.toLocaleDateString("ko-KR",{weekday:"short"})})`:`${(new Date).getFullYear()}.${((new Date).getMonth()+1).toString().padStart(2,"0")}.${(new Date).getDate().toString().padStart(2,"0")} (${(new Date).toLocaleDateString("ko-KR",{weekday:"short"})})`),1)])]),(0,o.Lk)("div",D,[a[8]||(a[8]=(0,o.Lk)("label",{for:"personSelect"},"예약 인원:",-1)),(0,o.bo)((0,o.Lk)("select",{id:"personSelect","onUpdate:modelValue":a[3]||(a[3]=e=>O.selectedPersonCount=e)},[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(5,(e=>(0,o.Lk)("option",{key:e,value:e},(0,s.v_)(e)+"명",9,C))),64))],512),[[n.u1,O.selectedPersonCount]])])]),(0,o.Lk)("div",_,[(0,o.Lk)("div",y,[a[9]||(a[9]=(0,o.Lk)("h4",{class:"reservation-text"},"숙박",-1)),(0,o.Lk)("p",$," 체크인: "+(0,s.v_)(O.room.hotelCheckIn||"정보없음")+" ~ 체크아웃: "+(0,s.v_)(O.room.hotelCheckOut||"정보없음"),1),(0,o.Lk)("h2",f,(0,s.v_)(Number(O.room.price).toLocaleString()?`${Number(O.room.price).toLocaleString()}원`:"가격 정보 없음"),1),(0,o.Lk)("div",I,[(0,o.Lk)("div",M,(0,s.v_)(O.room.availableRooms?`남은 객실 ${O.room.availableRooms}개`:"남은 객실 정보 없음"),1),(0,o.Lk)("button",{onClick:a[4]||(a[4]=(...e)=>V.move&&V.move(...e)),disabled:0===O.room.availableRooms,class:"reservation_btn"},"예약하기",8,P)])])])]),O.showModal?((0,o.uX)(),(0,o.CE)("div",R,[(0,o.Lk)("div",W,[(0,o.Lk)("span",{class:"close",onClick:a[5]||(a[5]=e=>O.showModal=!1)},"×"),a[10]||(a[10]=(0,o.Lk)("h2",null,"로그인 필요",-1)),a[11]||(a[11]=(0,o.Lk)("p",null,"예약을 진행하시려면 로그인이 필요합니다.",-1)),(0,o.bF)(K,{to:"/login"},{default:(0,o.k6)((()=>[(0,o.Lk)("button",{class:"modal-btn",onClick:a[6]||(a[6]=(...a)=>e.onLoginSuccess&&e.onLoginSuccess(...a))},"로그인하러 가기")])),_:1})])])):(0,o.Q3)("",!0),a[24]||(a[24]=(0,o.Fv)('<h2 class="section-title" data-v-4975ab4c>후기</h2><div class="review-container" data-v-4975ab4c><div class="review-grid" data-v-4975ab4c><div class="review-top" data-v-4975ab4c><div class="review-rating" data-v-4975ab4c>⭐⭐⭐⭐⭐</div><div class="review-date" data-v-4975ab4c>2024.10.25</div></div><div class="reviewer" data-v-4975ab4c>작성자명</div><div class="room-name" data-v-4975ab4c>객실명</div><div class="review-content" data-v-4975ab4c> 숙소도 전반적으로 깔끔했구요~ 고층이었는데 바다도 보이는 객실이라 좋았어요! </div></div><div class="review-grid" data-v-4975ab4c><div class="review-top" data-v-4975ab4c><div class="review-rating" data-v-4975ab4c>⭐⭐⭐⭐⭐</div><div class="review-date" data-v-4975ab4c>2024.10.25</div></div><div class="reviewer" data-v-4975ab4c>작성자명</div><div class="room-name" data-v-4975ab4c>객실명</div><div class="review-content" data-v-4975ab4c> 리뷰 </div></div><div class="review-grid" data-v-4975ab4c><div class="review-top" data-v-4975ab4c><div class="review-rating" data-v-4975ab4c>⭐⭐⭐⭐⭐</div><div class="review-date" data-v-4975ab4c>2024.10.25</div></div><div class="reviewer" data-v-4975ab4c>작성자명</div><div class="room-name" data-v-4975ab4c>객실명</div><div class="review-content" data-v-4975ab4c> 리뷰 </div></div></div><button class="review-all-btn" data-v-4975ab4c>리뷰 더보기</button>',3)),(0,o.Lk)("div",F,[a[23]||(a[23]=(0,o.Lk)("h2",{class:"section-title"},"편의시설",-1)),(0,o.Lk)("div",N,[(0,o.Lk)("p",null,[a[12]||(a[12]=(0,o.eW)("목욕시설: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.bathFacility?"✅":"❌"),1)]),(0,o.Lk)("p",null,[a[13]||(a[13]=(0,o.eW)("욕조: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.bath?"✅":"❌"),1)]),(0,o.Lk)("p",null,[a[14]||(a[14]=(0,o.eW)("에어컨: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.airCondition?"✅":"❌"),1)]),(0,o.Lk)("p",null,[a[15]||(a[15]=(0,o.eW)("TV: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.tv?"✅":"❌"),1)]),(0,o.Lk)("p",null,[a[16]||(a[16]=(0,o.eW)("케이블: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.cable?"✅":"❌"),1)]),(0,o.Lk)("p",null,[a[17]||(a[17]=(0,o.eW)("인터넷: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.internet?"✅":"❌"),1)]),(0,o.Lk)("p",null,[a[18]||(a[18]=(0,o.eW)("냉장고: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.refrigerator?"✅":"❌"),1)]),(0,o.Lk)("p",null,[a[19]||(a[19]=(0,o.eW)("세면도구: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.toiletries?"✅":"❌"),1)]),(0,o.Lk)("p",null,[a[20]||(a[20]=(0,o.eW)("소파: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.sofa?"✅":"❌"),1)]),(0,o.Lk)("p",null,[a[21]||(a[21]=(0,o.eW)("테이블: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.tableYn?"✅":"❌"),1)]),(0,o.Lk)("p",null,[a[22]||(a[22]=(0,o.eW)("드라이기: ")),(0,o.Lk)("span",null,(0,s.v_)(O.room.hairdryer?"✅":"❌"),1)])])])])}t(4114);var O=t(4373),V=t(6698),X={name:"HotelRoom",data(){return{room:{},hotel:{},reviews:[],selectedPersonCount:1,isLoggedIn:!1,showModal:!1,range:{start:null,end:null},showCalendar:!1,dataObj:history.state||{},minDate:new Date}},created(){this.fetchRoomDetails();const e=(0,V.n)();e.checkLoginStatus(),this.isLoggedIn=e.LoggedIn},methods:{async fetchRoomDetails(){const e=this.$route.params.roomId;try{const a=await O.A.get(`http://localhost:8081/api/rooms/${e}`);this.room=a.data,console.log("객실 데이터:",this.room),this.selectedPersonCount=this.room.occupancy||1}catch(a){console.error("객실 정보를 가져오는 중 오류 발생:",a)}},move(){const{hotelName:e,checkIn:a,checkOut:t,roomName:o,roomPrice:s}=this.dataObj,n=this.$route.params.roomId,r=this.range.start?this.range.start:new Date,l=this.range.end?this.range.end:new Date,i=this.selectedPersonCount;this.isLoggedIn?e&&a&&t&&o&&s?this.$router.push({name:"paymentPage",state:{hotelName:e,checkIn:a,checkOut:t,roomName:o,roomPrice:s,roomId:n,userCheckIn:r,userCheckOut:l,guestNum:i}}):console.log("예약에 필요한 정보가 부족합니다."):this.showModal=!0},onDateSelect(){this.range.start&&this.range.end&&(this.showCalendar=!1)}},computed:{formattedDescription(){return this.room.description?this.room.description.replace(/<br\s*\/?>/gi,"<br>"):"객실 설명이 없습니다."}}},K=t(1241);const Y=(0,K.A)(X,[["render",E],["__scopeId","data-v-4975ab4c"]]);var U=Y}}]);
//# sourceMappingURL=535.4317c309.js.map