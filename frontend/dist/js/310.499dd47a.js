"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[310],{1310:function(t,e,a){a.r(e),a.d(e,{default:function(){return B}});var o=a(6768),s=a(4232);const i={key:0,class:"details-container"},r={class:"img-container"},c=["src"],n={key:1,class:"no-image-container"},l={class:"hotel-info-card"},d={class:"hotel-top"},v={class:"hotel-name"},h={key:0,class:"favorite-container"},m={key:0,class:"fas fa-heart"},k={key:1,class:"far fa-heart"},p={class:"hotel-info"},u={class:"rating"},g={class:"hotel-info-details"},f={class:"room-list"},L={key:0},y={class:"room-image-container"},w=["src"],C={key:1,class:"no-room-image"},I={class:"room-info"},b={class:"room-name"},X={class:"avg-person"},E={class:"avg-person-text"},F={class:"reservation-info"},M={class:"check-info"},_=["innerHTML"],$=["innerHTML"],T={class:"price"},A={class:"reservation-bottom"},H={class:"room-count"},x=["onClick"],O={key:1},S={key:1};function U(t,e,a,U,K,P){return K.hotel?((0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",r,[K.hotel.imageUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,src:K.hotel.imageUrl,alt:"Hotel Image"},null,8,c)):((0,o.uX)(),(0,o.CE)("div",n,e[2]||(e[2]=[(0,o.Lk)("p",{class:"no-image-text"},"업체측에서 제공된 이미지가 없습니다",-1)])))]),(0,o.Lk)("div",l,[(0,o.Lk)("div",d,[(0,o.Lk)("div",null,[(0,o.Lk)("div",v,(0,s.v_)(K.hotel.name),1)]),K.isLoggedIn?((0,o.uX)(),(0,o.CE)("div",h,[(0,o.Lk)("div",{class:(0,s.C4)(["heart-button",{favorited:K.isFavorited,unfavorited:!K.isFavorited}]),onClick:e[0]||(e[0]=(...t)=>P.toggleFavorite&&P.toggleFavorite(...t))},[K.isFavorited?((0,o.uX)(),(0,o.CE)("i",m)):((0,o.uX)(),(0,o.CE)("i",k))],2)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",p,[(0,o.Lk)("span",u,"⭐ "+(0,s.v_)(K.hotel.rating||"4.5"),1),(0,o.Lk)("span",null,"("+(0,s.v_)(K.hotel.reviewCount||0)+" 리뷰)",1)]),(0,o.Lk)("div",g,[(0,o.Lk)("p",null,[e[3]||(e[3]=(0,o.Lk)("span",{class:"phone-icon"},"📞",-1)),(0,o.eW)(" 전화번호 : "+(0,s.v_)(K.hotel.hotelnum||"업체측에서 제공된 정보가 없습니다."),1)]),(0,o.Lk)("p",null,[e[4]||(e[4]=(0,o.Lk)("span",{class:"location-icon"},"📍",-1)),(0,o.eW)(" "+(0,s.v_)(K.hotel.address||"업체측에서 제공된 정보가 없습니다.")+" ",1),(0,o.Lk)("button",{class:"copy-button",onClick:e[1]||(e[1]=(...t)=>P.copyAddressToClipboard&&P.copyAddressToClipboard(...t))},"주소복사")]),e[5]||(e[5]=(0,o.Lk)("div",{id:"map",style:{width:"500px",height:"400px"}},null,-1))])]),e[13]||(e[13]=(0,o.Fv)('<div class="review-conatiner" data-v-f6612086><div class="review-grid" data-v-f6612086><div class="review-top" data-v-f6612086><div class="review-racting" data-v-f6612086>⭐⭐⭐⭐⭐</div><div class="review-date" data-v-f6612086>2024.10.25</div></div><div class="review-content" data-v-f6612086> 숙소도 전반적으로 깔끔했구요~ 고층이었는데 바다도 보이는 객실이라 좋았어요! 동향이었는지 아침마다 햇빛이 엄청 들어왔지만 ㅋㅋㅋㅋ 이중 커튼과 에어컨으로 충분히 커버 가능합니다. 무엇보다도 조식이 깔끔하면서도 맛있었어요 콩나물국과 죽이 제일 기억이 많이 남습니다 ㅎㅎㅎ 오는정김밥이 숙소 바로 옆이라 예약하기 쉬웠다는 메리트도 있었습니다.ㅋㅋㅋ 직원분들도 저희가 체크인을 늦게 하게 됐는데 바로 연락주셔서 주차 안내해주시고, 내내 친절하셔서 감사했어요.(전기차는 주차타워를 아예 못 쓰는 것 같아요!) </div></div><div class="review-grid" data-v-f6612086><div class="review-top" data-v-f6612086><div class="review-racting" data-v-f6612086>⭐⭐⭐⭐⭐</div><div class="review-date" data-v-f6612086>2024.10.25</div></div><div class="review-content" data-v-f6612086> 숙소도 전반적으로 깔끔했구요~ 고층이었는데 바다도 보이는 객실이라 좋았어요! 동향이었는지 아침마다 햇빛이 엄청 들어왔지만 ㅋㅋㅋㅋ 이중 커튼과 에어컨으로 충분히 커버 가능합니다. 무엇보다도 조식이 깔끔하면서도 맛있었어요 콩나물국과 죽이 제일 기억이 많이 남습니다 ㅎㅎㅎ 오는정김밥이 숙소 바로 옆이라 예약하기 쉬웠다는 메리트도 있었습니다.ㅋㅋㅋ 직원분들도 저희가 체크인을 늦게 하게 됐는데 바로 연락주셔서 주차 안내해주시고, 내내 친절하셔서 감사했어요.(전기차는 주차타워를 아예 못 쓰는 것 같아요!) </div></div><div class="review-grid" data-v-f6612086><div class="review-top" data-v-f6612086><div class="review-racting" data-v-f6612086>⭐⭐⭐⭐⭐</div><div class="review-date" data-v-f6612086>2024.10.25</div></div><div class="review-content" data-v-f6612086> 숙소도 전반적으로 깔끔했구요~ 고층이었는데 바다도 보이는 객실이라 좋았어요! 동향이었는지 아침마다 햇빛이 엄청 들어왔지만 ㅋㅋㅋㅋ 이중 커튼과 에어컨으로 충분히 커버 가능합니다. 무엇보다도 조식이 깔끔하면서도 맛있었어요 콩나물국과 죽이 제일 기억이 많이 남습니다 ㅎㅎㅎ 오는정김밥이 숙소 바로 옆이라 예약하기 쉬웠다는 메리트도 있었습니다.ㅋㅋㅋ 직원분들도 저희가 체크인을 늦게 하게 됐는데 바로 연락주셔서 주차 안내해주시고, 내내 친절하셔서 감사했어요.(전기차는 주차타워를 아예 못 쓰는 것 같아요!) </div></div></div>',1)),(0,o.Lk)("div",f,[e[12]||(e[12]=(0,o.Lk)("h3",null,"객실 정보",-1)),K.hotel.rooms&&K.hotel.rooms.length>0?((0,o.uX)(),(0,o.CE)("div",L,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(K.hotel.rooms,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.roomId,class:"room-card"},[(0,o.Lk)("div",y,[t.roomImageUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,src:t.roomImageUrl,class:"room-img",alt:"Room Image"},null,8,w)):((0,o.uX)(),(0,o.CE)("div",C,e[6]||(e[6]=[(0,o.Lk)("p",{class:"no-room-image-text"},"업체측에서 제공된 이미지가 없습니다",-1)])))]),(0,o.Lk)("div",I,[(0,o.Lk)("h4",b,(0,s.v_)(t.roomType),1),(0,o.Lk)("div",X,[e[7]||(e[7]=(0,o.Lk)("img",{class:"person-icon",src:"https://yaimg.yanolja.com/stay/static/images/v3/icon_my.png"},null,-1)),(0,o.Lk)("span",E,"기준인원 "+(0,s.v_)(t.roomOccupancy)+"인",1)]),(0,o.Lk)("div",F,[e[10]||(e[10]=(0,o.Lk)("h5",{class:"reservation-text"},"숙박",-1)),(0,o.Lk)("div",M,[e[8]||(e[8]=(0,o.eW)(" 체크인 ")),(0,o.Lk)("span",{innerHTML:P.formattedCheckIn},null,8,_),e[9]||(e[9]=(0,o.eW)(" ~ 체크아웃 ")),(0,o.Lk)("span",{innerHTML:P.formattedCheckOut},null,8,$)]),(0,o.Lk)("h2",T,(0,s.v_)(t.roomPrice?`${t.roomPrice.toLocaleString()}원`:"가격 정보 없음"),1),(0,o.Lk)("div",A,[(0,o.Lk)("div",H,"남은 객실 "+(0,s.v_)(t.roomCount)+"개",1),(0,o.Lk)("button",{onClick:e=>P.move(t),class:"reservation_btn"},"예약 및 상세보기",8,x)])])])])))),128))])):((0,o.uX)(),(0,o.CE)("div",O,e[11]||(e[11]=[(0,o.Lk)("div",{class:"room-card"},[(0,o.Lk)("div",{class:"no-room-info-container"},[(0,o.Lk)("p",{class:"no-room-info-text"},"업체측에서 제공된 객실 정보가 없습니다.")])],-1)])))])])):((0,o.uX)(),(0,o.CE)("div",S,e[14]||(e[14]=[(0,o.Lk)("p",null,"호텔 정보를 불러오는 중입니다...",-1)])))}a(4114);var K=a(4373),P=a(6698),W={name:"HotelDetails",data(){return{hotel:null,isFavorited:!1,isLoggedIn:!1}},mounted(){this.fetchFavoriteStatus()},async created(){const t=(0,P.n)();t.checkLoginStatus(),this.isLoggedIn=t.LoggedIn,this.token=t.accessToken,await this.fetchHotelDetails(),this.hotel&&this.hotel.mapX&&this.hotel.mapY&&this.loadKakaoMap()},beforeUnmount(){const t=document.querySelector("script[src*='//dapi.kakao.com/v2/maps/sdk.js']");t&&(t.remove(),delete window.kakao)},watch:{hotel(t){t&&t.mapX&&t.mapY&&this.loadKakaoMap()}},computed:{formattedCheckIn(){return this.hotel.checkIn?this.hotel.checkIn.replace(/<br\s*\/?>/gi,"<br>"):"정보없음"},formattedCheckOut(){return this.hotel.checkOut?this.hotel.checkOut.replace(/<br\s*\/?>/gi,"<br>"):"정보없음"}},methods:{async fetchHotelDetails(){const t=this.$route.params.id;try{const e=await K.A.get(`http://localhost:8081/api/hotels/${t}`);this.hotel=e.data,console.log(this.hotel)}catch(e){console.error("호텔 상세 정보를 가져오는 중 오류 발생:",e)}},move(t){this.$router.push({params:{roomId:t.roomId},name:"HotelRoom",state:{hotelName:this.hotel.name,roomName:t.roomType,roomPrice:t.roomPrice,checkIn:this.hotel.checkIn,checkOut:this.hotel.checkOut,roomId:t.roomId}})},copyAddressToClipboard(){this.hotel&&this.hotel.address&&navigator.clipboard.writeText(this.hotel.address).then((()=>{alert("주소가 복사되었습니다.")})).catch((t=>{console.error("주소 복사 중 오류가 발생했습니다.",t)}))},loadKakaoMap(){const t="d685c63d7eb74d08883cdb9e13b5fb6c";if("undefined"===typeof kakao){const e=document.createElement("script");e.src=`//dapi.kakao.com/v2/maps/sdk.js?appkey=${t}&autoload=false`,e.onload=this.initMap,document.head.appendChild(e)}else this.initMap()},initMap(){kakao.maps.load((()=>{const t=document.getElementById("map"),e={center:new kakao.maps.LatLng(this.hotel.mapY||"좌표❌",this.hotel.mapX||"좌표❌"),level:3},a=new kakao.maps.Map(t,e),o=new kakao.maps.LatLng(this.hotel.mapY||"좌표❌",this.hotel.mapX||"좌표❌"),s=new kakao.maps.Marker({position:o});s.setMap(a)}))},async fetchFavoriteStatus(){const t=this.token,e=this.$route.params.id;if(this.isLoggedIn)try{const a=await K.A.get(`http://localhost:8081/api/auth/favorites/status/${e}`,{headers:{Authorization:`Bearer ${t}`}});this.isFavorited=a.data}catch(a){console.error("찜 상태 불러오기 실패",a)}},async toggleFavorite(){const t=this.token,e=this.$route.params.id;if(!this.isLoggedIn)return void alert("로그인 후 즐겨찾기를 추가할 수 있습니다.");const a=this.isFavorited?`http://localhost:8081/api/auth/favorites/cancel/${e}`:`http://localhost:8081/api/auth/favorites/${e}`;try{await K.A.post(a,{},{headers:{Authorization:`Bearer ${t}`}}),this.isFavorited=!this.isFavorited}catch(o){console.error("찜 상태 변경 실패",o)}}}},Y=a(1241);const j=(0,Y.A)(W,[["render",U],["__scopeId","data-v-f6612086"]]);var B=j}}]);
//# sourceMappingURL=310.499dd47a.js.map